<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جدار - تصاميم عصرية لجدران ملهمة</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #111827; /* Fallback background */
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
        }
        h1, h2, h3, h4, h5, h6, .brand-title, .cta-button {
            font-family: 'Tajawal', sans-serif;
            line-height: 1.3;
        }
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        header {
            transition: background-color 0.4s ease-out, backdrop-filter 0.4s ease-out;
        }
        header.scrolled {
             background-color: transparent;
             backdrop-filter: none;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }
        .category-page {
            animation: fadeIn 0.5s ease-in-out;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        .animate-shake {
            animation: shake 0.6s cubic-bezier(.36,.07,.19,.97) both;
        }
        .chat-message {
            display: flex;
            max-width: 80%;
        }
        .chat-message .message-content {
            padding: 0.75rem 1rem;
            border-radius: 1.25rem;
        }
        .chat-message.user {
            margin-left: auto; /* align to right */
            flex-direction: row-reverse;
        }
        .chat-message.user .message-content {
            background-color: #10B981; /* emerald-600 */
            color: white;
            border-bottom-right-radius: 0.25rem;
        }
        .chat-message.bot .message-content {
            background-color: #374151; /* gray-700 */
            color: #e5e7eb; /* gray-200 */
            border-bottom-left-radius: 0.25rem;
        }
        
        .project-thumbnail {
            opacity: 0.6;
            transition: opacity 0.3s ease, transform 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .project-thumbnail:hover {
            opacity: 1;
            transform: scale(1.05);
        }
        .project-thumbnail.active {
            opacity: 1;
            border-color: #34d399; /* emerald-400 */
        }
        .sort-btn {
            padding: 0.5rem 1.25rem;
            border-radius: 9999px;
            background-color: rgba(255, 255, 255, 0.05);
            color: #d1d5db; /* gray-300 */
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .sort-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
        }
        .sort-btn.active {
            background-color: #10b981; /* emerald-600 */
            color: white;
            border-color: #34d399; /* emerald-400 */
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
        }
        #mobile-menu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
    </style>
</head>
<body class="text-slate-200">

    <div class="fixed inset-0 -z-10">
        <video autoplay loop muted playsinline poster="https://images.unsplash.com/photo-1615874959474-d609969a20ed?q=80&w=2500&auto=format&fit=crop" class="w-full h-full object-cover">
            <source src="https://videos.pexels.com/video-files/8310134/8310134-hd_1920_1080_25fps.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div class="absolute inset-0 bg-black/50"></div>
    </div>

    <header class="sticky top-0 z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#home" class="flex flex-col items-center text-center">
                <img src="https://i.ibb.co/67zCn4p8/image.png" alt="أيقونة شعار جدار" class="h-8 w-auto mb-1 brightness-200">
                <h1 class="brand-title text-xl font-black text-white -mb-1">جدار</h1>
                <p class="text-xs text-slate-300 tracking-tight">للديكورات الحديثة</p>
            </a>
            
            <!-- Desktop Navigation -->
            <nav class="hidden md:flex items-center space-x-6 space-x-reverse">
                <a href="#home" class="text-slate-200 hover:text-white font-semibold transition duration-300">الرئيسية</a>
                <a href="#main-footer" class="text-slate-200 hover:text-white font-semibold transition duration-300">تواصل معنا</a>
                <a href="#" class="open-payment-modal-btn bg-emerald-500/20 text-emerald-300 text-sm font-bold py-2 px-4 rounded-full hover:bg-emerald-500/30 transition-colors">طرق الدفع</a>
                <form id="header-search-form" class="relative search-form">
                    <input type="text" placeholder="ابحث..." class="bg-white/10 text-white rounded-full py-2 pl-10 pr-4 w-48 transition-all duration-300 focus:w-64 focus:outline-none focus:ring-2 focus:ring-emerald-500 text-sm">
                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none">
                        <i data-feather="search" class="w-5 h-5"></i>
                    </span>
                </form>
            </nav>

            <!-- Mobile Menu Button -->
            <div class="md:hidden">
                <button id="mobile-menu-btn" class="text-white focus:outline-none">
                    <i data-feather="menu" class="w-7 h-7"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Navigation Menu -->
        <div id="mobile-menu" class="md:hidden bg-transparent">
            <div class="container mx-auto px-6 py-4 flex flex-col items-center gap-4">
                <a href="#home" class="text-slate-200 hover:text-white font-semibold transition duration-300">الرئيسية</a>
                <a href="#main-footer" class="text-slate-200 hover:text-white font-semibold transition duration-300">تواصل معنا</a>
                <a href="#" class="open-payment-modal-btn bg-emerald-500/20 text-emerald-300 text-sm font-bold py-2 px-4 rounded-full hover:bg-emerald-500/30 transition-colors">طرق الدفع</a>
                <form id="mobile-search-form" class="relative search-form w-full max-w-sm">
                    <input type="text" placeholder="ابحث عن تصميم..." class="bg-white/10 text-white rounded-full py-3 pl-12 pr-4 w-full focus:outline-none focus:ring-2 focus:ring-emerald-500 text-base">
                    <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none">
                        <i data-feather="search" class="w-6 h-6"></i>
                    </span>
                </form>
            </div>
        </div>
    </header>

    <div id="main-content">
        <main>
            <section id="home" class="relative min-h-screen flex items-center justify-center text-white overflow-hidden -mt-[88px]">
                <div class="relative z-10 container mx-auto px-6 text-center reveal">
                    <h1 class="pt-4 font-black text-7xl sm:text-8xl md:text-9xl bg-gradient-to-r from-emerald-400 to-green-300 text-transparent bg-clip-text drop-shadow-lg">
                        جدار
                    </h1>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-bold text-slate-200 mt-2 mb-10 drop-shadow-md">
                        حوّل مساحتك إلى لوحة فنية
                    </p>
                    <p class="text-base sm:text-lg md:text-xl text-slate-200 max-w-2xl mx-auto mb-10 drop-shadow-md -mt-6">
                        نقدم لك أحدث وأجمل تجاليد الحوائط التي تجمع بين الفن والجودة، لتمنح منزلك هوية فريدة ومظهرًا عصريًا.
                    </p>
                    <a href="#categories" class="cta-button inline-flex items-center justify-center gap-3 bg-gradient-to-r from-emerald-500 to-green-400 text-white py-3 px-8 sm:py-4 sm:px-10 rounded-full hover:shadow-emerald-400/30 transition-all duration-300 text-lg font-bold shadow-2xl transform hover:-translate-y-1">
                        <span>تصفح الأقسام الآن</span>
                        <i data-feather="arrow-left" class="w-6 h-6"></i>
                    </a>
                </div>
            
                <div class="absolute bottom-10 left-1/2 -translate-x-1/2 z-10">
                    <a href="#categories" class="text-white/70 hover:text-white transition-colors">
                        <i data-feather="chevron-down" class="w-10 h-10 animate-bounce"></i>
                    </a>
                </div>
            </section>
            
            <section id="categories" class="py-20 sm:py-24 overflow-hidden">
                <div class="container mx-auto px-6 reveal">
                    <div class="p-4 sm:p-8 md:p-12">
                        <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-center mb-4 text-white">تصفح منتجاتنا</h2>
                        <p class="text-slate-300 text-center max-w-2xl mx-auto mb-12 sm:mb-16">اختر المنتجات التي تلهمك لتبدأ رحلة تصميم مساحتك الخاصة.</p>
                        <div class="relative">
                            <div id="categories-container" class="flex items-center gap-6 sm:gap-8 overflow-x-auto py-4 -mx-6 px-6 scrollbar-hide">
                                
                                <a href="#" class="category-card group relative flex-shrink-0 w-48 h-64 sm:w-56 sm:h-72 rounded-2xl overflow-hidden shadow-lg transition-all duration-300 transform hover:-translate-y-2" data-page="natural">
                                    <img src="https://images.unsplash.com/photo-1533038590840-1cde6e668a91?q=80&w=600&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" alt="قسم التصاميم الطبيعية">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                                    <div class="absolute bottom-0 left-0 right-0 p-5 text-white">
                                        <i data-feather="feather" class="w-7 h-7 mb-2 text-emerald-300"></i>
                                        <h3 class="text-xl sm:text-2xl font-bold">تصاميم طبيعية</h3>
                                    </div>
                                </a>

                                <a href="#" class="category-card group relative flex-shrink-0 w-48 h-64 sm:w-56 sm:h-72 rounded-2xl overflow-hidden shadow-lg transition-all duration-300 transform hover:-translate-y-2" data-page="modern">
                                    <img src="https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=600&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" alt="قسم التصاميم المودرن">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                                    <div class="absolute bottom-0 left-0 right-0 p-5 text-white">
                                        <i data-feather="box" class="w-7 h-7 mb-2 text-purple-300"></i>
                                        <h3 class="text-xl sm:text-2xl font-bold">تصاميم مودرن</h3>
                                    </div>
                                </a>

                                <a href="#" class="category-card group relative flex-shrink-0 w-48 h-64 sm:w-56 sm:h-72 rounded-2xl overflow-hidden shadow-lg transition-all duration-300 transform hover:-translate-y-2" data-page="geometric">
                                    <img src="https://images.unsplash.com/photo-1618761714954-0b8cd0026356?q=80&w=600&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" alt="قسم التصاميم الهندسية">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                                    <div class="absolute bottom-0 left-0 right-0 p-5 text-white">
                                        <i data-feather="triangle" class="w-7 h-7 mb-2 text-pink-300"></i>
                                        <h3 class="text-xl sm:text-2xl font-bold">تصاميم هندسية</h3>
                                    </div>
                                </a>

                                 <a href="#" class="category-card group relative flex-shrink-0 w-48 h-64 sm:w-56 sm:h-72 rounded-2xl overflow-hidden shadow-lg transition-all duration-300 transform hover:-translate-y-2" data-page="classic">
                                    <img src="https://images.unsplash.com/photo-1612325430584-be225f1262d6?q=80&w=600&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" alt="قسم التصاميم الكلاسيكية">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                                    <div class="absolute bottom-0 left-0 right-0 p-5 text-white">
                                        <i data-feather="shield" class="w-7 h-7 mb-2 text-amber-300"></i>
                                        <h3 class="text-xl sm:text-2xl font-bold">تصاميم كلاسيكية</h3>
                                    </div>
                                </a>

                                <a href="#" class="category-card group relative flex-shrink-0 w-48 h-64 sm:w-56 sm:h-72 rounded-2xl overflow-hidden shadow-lg transition-all duration-300 transform hover:-translate-y-2" data-page="kids">
                                    <img src="https://images.unsplash.com/photo-1596431718218-a6152b380645?q=80&w=600&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" alt="قسم غرف الأطفال">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                                    <div class="absolute bottom-0 left-0 right-0 p-5 text-white">
                                        <i data-feather="smile" class="w-7 h-7 mb-2 text-sky-300"></i>
                                        <h3 class="text-xl sm:text-2xl font-bold">غرف أطفال</h3>
                                    </div>
                                </a>
                            </div>
                            <button id="scroll-right-btn" class="absolute top-1/2 -right-4 transform -translate-y-1/2 z-10 bg-white/70 hover:bg-white text-slate-800 rounded-full p-2 shadow-md transition hidden sm:block"><i data-feather="chevron-left"></i></button>
                            <button id="scroll-left-btn" class="absolute top-1/2 -left-4 transform -translate-y-1/2 z-10 bg-white/70 hover:bg-white text-slate-800 rounded-full p-2 shadow-md transition hidden sm:block"><i data-feather="chevron-right"></i></button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="why-us" class="py-20 sm:py-24 overflow-hidden">
                <div class="container mx-auto px-6 text-center reveal">
                     <div class="p-4 sm:p-8 md:p-12">
                        <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-4 text-white">خبرتنا بين يديك: من الفكرة إلى الواقع</h2>
                        <p class="text-slate-300 mb-12 sm:mb-16 max-w-3xl mx-auto">نحن لا نقدم منتجات فحسب، بل نقدم حلاً متكاملاً يجمع بين التصميم الإبداعي، التنفيذ الدقيق، وضمان الجودة لنجعل من مساحتك تحفة فنية.</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                           
                            <div class="bg-white/5 backdrop-blur-sm p-6 sm:p-8 rounded-2xl text-center transition-all duration-300 hover:bg-white/10 hover:-translate-y-2 border border-white/10">
                                <div class="bg-emerald-500/20 text-emerald-400 rounded-full h-16 w-16 sm:h-20 sm:w-20 flex-shrink-0 flex items-center justify-center mx-auto mb-6">
                                     <i data-feather="edit-3" class="w-8 h-8 sm:w-10 sm:h-10"></i>
                                </div>
                                <div>
                                     <h3 class="text-xl sm:text-2xl font-bold mb-2 text-white">تصاميم مبتكرة لكل ذوق</h3>
                                     <p class="text-slate-300 leading-relaxed">نصمم كل ما تحلم به، من التصاميم الهندسية الدقيقة إلى الخدع البصرية الفنية لورق الحائط، لنعكس شخصيتك على جدرانك.</p>
                                </div>
                            </div>

                            <div class="bg-white/5 backdrop-blur-sm p-6 sm:p-8 rounded-2xl text-center transition-all duration-300 hover:bg-white/10 hover:-translate-y-2 border border-white/10">
                                <div class="bg-emerald-500/20 text-emerald-400 rounded-full h-16 w-16 sm:h-20 sm:w-20 flex-shrink-0 flex items-center justify-center mx-auto mb-6">
                                     <i data-feather="tool" class="w-8 h-8 sm:w-10 sm:h-10"></i>
                                </div>
                                <div>
                                     <h3 class="text-xl sm:text-2xl font-bold mb-2 text-white">تنفيذ احترافي متكامل</h3>
                                     <p class="text-slate-300 leading-relaxed">فريقنا من مهندسي التركيبات والتشطيبات يضمن لك معاينة دقيقة وتركيب احترافي، مع خدمة شحن للمواد لجميع الأنحاء.</p>
                                </div>
                            </div>

                           <div class="bg-white/5 backdrop-blur-sm p-6 sm:p-8 rounded-2xl text-center transition-all duration-300 hover:bg-white/10 hover:-translate-y-2 border border-white/10">
                                <div class="bg-emerald-500/20 text-emerald-400 rounded-full h-16 w-16 sm:h-20 sm:w-20 flex-shrink-0 flex items-center justify-center mx-auto mb-6">
                                     <i data-feather="award" class="w-8 h-8 sm:w-10 sm:h-10"></i>
                                </div>
                                <div>
                                     <h3 class="text-xl sm:text-2xl font-bold mb-2 text-white">جودة فائقة وخامات عالمية</h3>
                                     <p class="text-slate-300 leading-relaxed">نلتزم بأعلى معايير الجودة ونستخدم أفضل الخامات لنقدم لك منتجات تدوم طويلاً بألوان ثابتة ومظهر لا يبهت.</p>
                                </div>
                            </div>

                            <div class="bg-white/5 backdrop-blur-sm p-6 sm:p-8 rounded-2xl text-center transition-all duration-300 hover:bg-white/10 hover:-translate-y-2 border border-white/10">
                                <div class="bg-emerald-500/20 text-emerald-400 rounded-full h-16 w-16 sm:h-20 sm:w-20 flex-shrink-0 flex items-center justify-center mx-auto mb-6">
                                     <i data-feather="thumbs-up" class="w-8 h-8 sm:w-10 sm:h-10"></i>
                                </div>
                                <div>
                                     <h3 class="text-xl sm:text-2xl font-bold mb-2 text-white">ضمان ذهبي ورضا تام</h3>
                                     <p class="text-slate-300 leading-relaxed">نثق بمنتجاتنا ونقدم لك ضماناً قوياً وسياسة استرجاع مرنة وطويلة تضمن لك راحة البال ورضاك الكامل عن تجربتك معنا.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="portfolio" class="py-20 sm:py-24 bg-black/20 overflow-hidden">
                <div class="container mx-auto px-6 text-center reveal">
                    <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold mb-4 text-white">شاهد إبداعنا على أرض الواقع</h2>
                    <p class="text-slate-300 mb-12 sm:mb-16 max-w-2xl mx-auto">تصفح مجموعة من أحدث مشاريعنا التي نفخر بتنفيذها. كل مشروع يحكي قصة نجاح وجودة.</p>
                    <div class="relative">
                        <div id="portfolio-container" class="flex items-stretch gap-6 overflow-x-auto py-4 scrollbar-hide -mx-6 px-6">
                            <!-- Portfolio Item 1 -->
                            <div class="portfolio-item group relative rounded-2xl overflow-hidden cursor-pointer w-4/5 sm:w-1/2 md:w-1/3 flex-shrink-0 h-96" 
                                 data-title="فيلا مودرن بالشيخ زايد"
                                 data-desc="تم تنفيذ تصميم داخلي كامل لهذه الفيلا بأسلوب مودرن يجمع بين البساطة والفخامة، مع استخدام ورق حائط بنقشات هادئة وتجاليد خشبية لإضافة لمسة دافئة."
                                 data-media='[
                                    {"type": "image", "src": "https://images.unsplash.com/photo-1556702585-2856c6f3b0e3?q=80&w=1200&auto=format&fit=crop"},
                                    {"type": "video", "src": "https://videos.pexels.com/video-files/853875/853875-hd_1280_720_25fps.mp4"},
                                    {"type": "image", "src": "https://images.unsplash.com/photo-1600121848594-d8644e57abab?q=80&w=1200&auto=format&fit=crop"}
                                 ]'>
                                <img src="https://images.unsplash.com/photo-1556702585-2856c6f3b0e3?q=80&w=800&auto=format&fit=crop" alt="مشروع تصميم داخلي 1" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                                <div class="absolute inset-0 bg-black/40 group-hover:bg-black/60 transition-colors duration-300 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 p-4">
                                    <i data-feather="eye" class="w-12 h-12 text-white"></i>
                                    <p class="text-white font-bold mt-2">عرض المشروع</p>
                                </div>
                            </div>
                            <!-- Portfolio Item 2 -->
                            <div class="portfolio-item group relative rounded-2xl overflow-hidden cursor-pointer w-4/5 sm:w-1/2 md:w-1/3 flex-shrink-0 h-96"
                                 data-title="شقة دوبلكس بالتجمع الخامس"
                                 data-desc="مشروع تصميم وتنفيذ شقة دوبلكس، تم التركيز فيه على استخدام التصاميم الهندسية وورق الحائط ثلاثي الأبعاد لخلق مساحات بصرية مبتكرة."
                                 data-media='[
                                    {"type": "image", "src": "https://images.unsplash.com/photo-1536532184021-e3592b2a5630?q=80&w=1200&auto=format&fit=crop"},
                                    {"type": "image", "src": "https://images.unsplash.com/photo-1516146522434-78d103525232?q=80&w=1200&auto=format&fit=crop"}
                                 ]'>
                                <img src="https://images.unsplash.com/photo-1536532184021-e3592b2a5630?q=80&w=800&auto=format&fit=crop" alt="مشروع تصميم داخلي 2" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                                <div class="absolute inset-0 bg-black/40 group-hover:bg-black/60 transition-colors duration-300 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 p-4">
                                    <i data-feather="eye" class="w-12 h-12 text-white"></i>
                                    <p class="text-white font-bold mt-2">عرض المشروع</p>
                                </div>
                            </div>
                            <!-- Portfolio Item 3 -->
                            <div class="portfolio-item group relative rounded-2xl overflow-hidden cursor-pointer w-4/5 sm:w-1/2 md:w-1/3 flex-shrink-0 h-96"
                                 data-title="مكاتب إدارية بالعاصمة الجديدة"
                                 data-desc="تصميم وتنفيذ تشطيبات لمكاتب إدارية حديثة، مع التركيز على التجاليد الخشبية التي تضفي طابعاً من الاحترافية والهدوء على بيئة العمل."
                                 data-media='[
                                    {"type": "image", "src": "https://images.unsplash.com/photo-1616046229478-9901c5536a45?q=80&w=1200&auto=format&fit=crop"},
                                    {"type": "image", "src": "https://images.unsplash.com/photo-1618220179428-22790b461013?q=80&w=1200&auto=format&fit=crop"}
                                 ]'>
                                <img src="https://images.unsplash.com/photo-1616046229478-9901c5536a45?q=80&w=800&auto=format&fit=crop" alt="مشروع تصميم داخلي 3" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                                <div class="absolute inset-0 bg-black/40 group-hover:bg-black/60 transition-colors duration-300 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 p-4">
                                    <i data-feather="eye" class="w-12 h-12 text-white"></i>
                                    <p class="text-white font-bold mt-2">عرض المشروع</p>
                                </div>
                            </div>
                            <!-- Add more portfolio items here following the same structure -->
                        </div>
                        <button id="portfolio-scroll-right-btn" class="absolute top-1/2 -right-4 transform -translate-y-1/2 z-10 bg-white/70 hover:bg-white text-slate-800 rounded-full p-2 shadow-md transition hidden md:block"><i data-feather="chevron-left"></i></button>
                        <button id="portfolio-scroll-left-btn" class="absolute top-1/2 -left-4 transform -translate-y-1/2 z-10 bg-white/70 hover:bg-white text-slate-800 rounded-full p-2 shadow-md transition hidden md:block"><i data-feather="chevron-right"></i></button>
                    </div>
                </div>
            </section>
        </main>

        <footer id="main-footer" class="py-4 sm:py-8 border-t border-white/10">
            <div class="container mx-auto px-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-right">
                    <div class="md:col-span-1">
                         <h3 class="text-lg font-bold text-white mb-2">نبذة عن جدار</h3>
                         <p class="text-slate-300 leading-relaxed text-sm">
                            موقع جدار أكبر موقع للتشطيبات وتاسيس المنشأت في مصر , كل ما تحلم به تجده علي موقع جدار.
                         </p>
                    </div>
                     <div class="md:col-span-1">
                         <h3 class="text-lg font-bold text-white mb-2">الفرع الرئيسي</h3>
                         <p class="text-slate-300 leading-relaxed text-sm">
                            الفيوم - اخر سور المستشفي العام ، امام مطعم ابو صلاح وبجوار المغسلة الأمريكية .
                         </p>
                    </div>
                    <div class="md:col-span-1 flex flex-col items-center md:items-end">
                         <h3 class="text-lg font-bold text-white mb-2">تواصل معنا</h3>
                         <div class="flex flex-col items-center md:items-end gap-2">
                             <a href="https://wa.me/201014175070" target="_blank" rel="noopener noreferrer" class="flex items-center gap-3 text-slate-200 hover:text-emerald-400 transition-colors text-sm">
                                    <span dir="ltr">01014175070</span>
                                    <i data-feather="message-circle" class="w-5 h-5"></i>
                                </a>
                                <a href="mailto:gedar.fayoum@gmail.com" class="flex items-center gap-3 text-slate-200 hover:text-emerald-400 transition-colors text-sm">
                                    <span>gedar.fayoum@gmail.com</span>
                                    <i data-feather="mail" class="w-5 h-5"></i>
                                </a>
                         </div>
                    </div>
                </div>
                <div class="mt-6 border-t border-white/10 pt-4 flex flex-col sm:flex-row justify-between items-center gap-4">
                    <p class="text-slate-400 text-sm">&copy; 2025 جدار. جميع الحقوق محفوظة.</p>
                    <div class="flex items-center gap-5">
                         <a href="https://www.instagram.com/gedar_fayoum/" target="_blank" aria-label="Instagram" class="text-slate-400 hover:text-white transition-colors"><i data-feather="instagram" class="w-5 h-5"></i></a>
                        <a href="https://www.facebook.com/gedar.fayoum/" target="_blank" aria-label="Facebook" class="text-slate-400 hover:text-white transition-colors"><i data-feather="facebook" class="w-5 h-5"></i></a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    
    <div id="category-pages-container" class="hidden">
        
        <section id="page-natural" class="category-page hidden min-h-screen py-16 text-white">
             <div class="container mx-auto px-6">
                <div class="bg-black/20 backdrop-blur-sm rounded-3xl p-8 md:p-12">
                    <button class="back-to-main-btn mb-8 inline-flex items-center space-x-2 space-x-reverse text-slate-300 hover:text-white font-semibold transition-colors">
                        <i data-feather="arrow-right" class="w-5 h-5"></i>
                        <span>العودة للأقسام</span>
                    </button>
                    <h2 class="text-4xl font-extrabold text-center mb-6">تصاميم طبيعية</h2>
                    <!-- Sort Buttons -->
                    <div class="flex justify-center gap-2 mb-10 flex-wrap sort-buttons">
                        <button class="sort-btn active" data-sort="default">الكل</button>
                        <button class="sort-btn" data-sort="bestseller">الأكثر مبيعاً</button>
                        <button class="sort-btn" data-sort="price-desc">الأعلى سعراً</button>
                        <button class="sort-btn" data-sort="price-asc">الأقل سعراً</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 product-grid">
                        <!-- Product Card 1 -->
                        <div class="product-card group relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden transition-all duration-300 hover:bg-white/10 hover:-translate-y-2"
                            data-title="ورق حائط بنقشة أوراق استوائية"
                            data-price="250"
                            data-bestseller="false"
                            data-img="https://images.unsplash.com/photo-1585333150141-35a224586d48?q=80&w=800&auto=format&fit=crop"
                            data-desc="أضف لمسة من الطبيعة الخلابة إلى مساحتك مع هذا التصميم الذي يحاكي أوراق المونستيرا الكثيفة، مثالي لغرف المعيشة والاستقبال.">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1585333150141-35a224586d48?q=80&w=800&auto=format&fit=crop" alt="ورق حائط بنقشة أوراق استوائية" class="w-full h-56 object-cover transition-transform duration-300 group-hover:scale-110">
                            </div>
                            <div class="p-5">
                                <h3 class="text-xl font-bold text-white mb-1 truncate">ورق حائط بنقشة أوراق استوائية</h3>
                                <p class="text-2xl font-black text-emerald-400 mb-4">250 <span class="text-sm font-semibold text-slate-300">جم / للفة</span></p>
                                <button class="details-btn w-full bg-emerald-600/80 text-white py-2 px-4 rounded-full hover:bg-emerald-600 transition-colors">عرض التفاصيل</button>
                            </div>
                        </div>
                        <!-- Product Card 2 -->
                        <div class="product-card group relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden transition-all duration-300 hover:bg-white/10 hover:-translate-y-2"
                             data-title="تجاليد خشبية طبيعية"
                             data-price="450"
                             data-bestseller="true"
                             data-img="https://images.unsplash.com/photo-1611094603953-53b9a0a65a3c?q=80&w=800&auto=format&fit=crop"
                             data-desc="امنح جدرانك ملمساً وشكلاً دافئاً مع تجاليدنا الخشبية المصنوعة من أجود أنواع الأخشاب الطبيعية، سهلة التركيب وتدوم طويلاً.">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1611094603953-53b9a0a65a3c?q=80&w=800&auto=format&fit=crop" alt="تجاليد خشبية طبيعية" class="w-full h-56 object-cover transition-transform duration-300 group-hover:scale-110">
                            </div>
                             <div class="p-5">
                                <h3 class="text-xl font-bold text-white mb-1 truncate">تجاليد خشبية طبيعية</h3>
                                <p class="text-2xl font-black text-emerald-400 mb-4">450 <span class="text-sm font-semibold text-slate-300">جم / متر مربع</span></p>
                                <button class="details-btn w-full bg-emerald-600/80 text-white py-2 px-4 rounded-full hover:bg-emerald-600 transition-colors">عرض التفاصيل</button>
                            </div>
                        </div>
                        <!-- Product Card 3 -->
                        <div class="product-card group relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden transition-all duration-300 hover:bg-white/10 hover:-translate-y-2"
                             data-title="تصميم حجارة طبيعية"
                             data-price="320"
                             data-bestseller="false"
                             data-img="https://images.unsplash.com/photo-1522041221495-9c94608e124f?q=80&w=800&auto=format&fit=crop"
                             data-desc="تصميم فريد يحاكي شكل وملمس الجدران الحجرية الطبيعية، يضيف عمقاً وفخامة للمداخل والمساحات الخارجية.">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1522041221495-9c94608e124f?q=80&w=800&auto=format&fit=crop" alt="تصميم حجارة طبيعية" class="w-full h-56 object-cover transition-transform duration-300 group-hover:scale-110">
                            </div>
                             <div class="p-5">
                                <h3 class="text-xl font-bold text-white mb-1 truncate">تصميم حجارة طبيعية</h3>
                                <p class="text-2xl font-black text-emerald-400 mb-4">320 <span class="text-sm font-semibold text-slate-300">جم / متر مربع</span></p>
                                <button class="details-btn w-full bg-emerald-600/80 text-white py-2 px-4 rounded-full hover:bg-emerald-600 transition-colors">عرض التفاصيل</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="page-modern" class="category-page hidden min-h-screen py-16 text-white">
             <div class="container mx-auto px-6">
                <div class="bg-black/20 backdrop-blur-sm rounded-3xl p-8 md:p-12">
                    <button class="back-to-main-btn mb-8 inline-flex items-center space-x-2 space-x-reverse text-slate-300 hover:text-white font-semibold transition-colors">
                        <i data-feather="arrow-right" class="w-5 h-5"></i>
                        <span>العودة للأقسام</span>
                    </button>
                    <h2 class="text-4xl font-extrabold text-center mb-10">تصاميم مودرن</h2>
                     <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <p class="text-center col-span-full text-slate-400 text-lg">سيتم إضافة المنتجات هنا قريباً.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-geometric" class="category-page hidden min-h-screen py-16 text-white">
             <div class="container mx-auto px-6">
                <div class="bg-black/20 backdrop-blur-sm rounded-3xl p-8 md:p-12">
                    <button class="back-to-main-btn mb-8 inline-flex items-center space-x-2 space-x-reverse text-slate-300 hover:text-white font-semibold transition-colors">
                        <i data-feather="arrow-right" class="w-5 h-5"></i>
                        <span>العودة للأقسام</span>
                    </button>
                    <h2 class="text-4xl font-extrabold text-center mb-10">تصاميم هندسية</h2>
                     <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <p class="text-center col-span-full text-slate-400 text-lg">سيتم إضافة المنتجات هنا قريباً.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-classic" class="category-page hidden min-h-screen py-16 text-white">
            <div class="container mx-auto px-6">
                <div class="bg-black/20 backdrop-blur-sm rounded-3xl p-8 md:p-12">
                    <button class="back-to-main-btn mb-8 inline-flex items-center space-x-2 space-x-reverse text-slate-300 hover:text-white font-semibold transition-colors">
                        <i data-feather="arrow-right" class="w-5 h-5"></i>
                        <span>العودة للأقسام</span>
                    </button>
                    <h2 class="text-4xl font-extrabold text-center mb-10">تصاميم كلاسيكية</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                         <p class="text-center col-span-full text-slate-400 text-lg">سيتم إضافة المنتجات هنا قريباً.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-kids" class="category-page hidden min-h-screen py-16 text-white">
             <div class="container mx-auto px-6">
                <div class="bg-black/20 backdrop-blur-sm rounded-3xl p-8 md:p-12">
                    <button class="back-to-main-btn mb-8 inline-flex items-center space-x-2 space-x-reverse text-slate-300 hover:text-white font-semibold transition-colors">
                        <i data-feather="arrow-right" class="w-5 h-5"></i>
                        <span>العودة للأقسام</span>
                    </button>
                    <h2 class="text-4xl font-extrabold text-center mb-10">غرف أطفال</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                         <p class="text-center col-span-full text-slate-400 text-lg">سيتم إضافة المنتجات هنا قريباً.</p>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Project Detail Modal -->
    <div id="project-modal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div id="project-modal-content" class="bg-stone-900/80 backdrop-blur-2xl border border-white/10 text-slate-200 rounded-2xl shadow-2xl max-w-4xl w-full relative transform transition-all duration-300 scale-95 opacity-0 max-h-[90vh] flex flex-col">
            <button id="close-project-modal" class="absolute top-4 right-4 text-slate-400 hover:text-white transition-colors z-20">
                <i data-feather="x" class="w-8 h-8"></i>
            </button>
            <div class="flex-1 flex flex-col md:flex-row overflow-hidden">
                <!-- Main Media Viewer -->
                <div class="w-full md:w-2/3 bg-black flex items-center justify-center">
                    <div id="project-main-media" class="w-full h-full">
                        <!-- Media (Image/Video) will be injected here by JS -->
                    </div>
                </div>
                <!-- Project Details & Thumbnails -->
                <div class="w-full md:w-1/3 p-6 flex flex-col overflow-y-auto">
                    <div>
                        <h2 id="project-modal-title" class="text-2xl font-extrabold text-emerald-400 mb-2"></h2>
                        <p id="project-modal-desc" class="text-slate-300 leading-relaxed mb-4"></p>
                    </div>
                    <div class="border-t border-white/10 pt-4 mt-auto">
                        <h4 class="font-bold text-base text-white mb-3">معرض المشروع</h4>
                        <div id="project-thumbnails" class="grid grid-cols-4 gap-2">
                            <!-- Thumbnails will be injected here by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div id="product-modal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div id="product-modal-content" class="bg-stone-900/80 backdrop-blur-2xl border border-white/10 text-slate-200 rounded-2xl shadow-2xl max-w-2xl w-full relative transform transition-all duration-300 scale-95 opacity-0 max-h-[90vh] flex flex-col">
            <button id="close-product-modal" class="absolute top-4 right-4 text-slate-400 hover:text-white transition-colors z-20">
                <i data-feather="x" class="w-7 h-7"></i>
            </button>
            <div class="overflow-y-auto">
                <img id="modal-img" src="" alt="صورة المنتج" class="w-full h-72 object-cover">
                <div class="p-8">
                    <h2 id="modal-title" class="text-3xl font-extrabold text-emerald-400 mb-2"></h2>
                    <p id="modal-price" class="text-2xl font-bold text-white mb-4"></p>
                    <p id="modal-desc" class="text-slate-300 leading-relaxed mb-6"></p>
                    
                    <div class="border-t border-b border-white/10 py-4 mb-6">
                        <h4 class="font-bold text-lg text-white mb-3">الألوان المتاحة</h4>
                        <div class="flex space-x-3 space-x-reverse">
                            <span class="w-8 h-8 rounded-full bg-gray-700 border-2 border-white/50 cursor-pointer hover:scale-110 transition-transform"></span>
                            <span class="w-8 h-8 rounded-full bg-blue-400 border-2 border-white/50 cursor-pointer hover:scale-110 transition-transform"></span>
                            <span class="w-8 h-8 rounded-full bg-green-300 border-2 border-white/50 cursor-pointer hover:scale-110 transition-transform"></span>
                            <span class="w-8 h-8 rounded-full bg-red-400 border-2 border-white/50 cursor-pointer hover:scale-110 transition-transform"></span>
                        </div>
                    </div>

                    <button class="w-full bg-emerald-600 text-white py-3 px-6 rounded-full hover:bg-emerald-700 transition-colors text-lg font-bold flex items-center justify-center gap-3">
                        <i data-feather="shopping-cart" class="w-6 h-6"></i>
                        <span>اطلب الآن عبر واتساب</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Methods Modal -->
    <div id="payment-modal" class="hidden fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div id="payment-modal-content" class="bg-stone-800/50 backdrop-blur-xl border border-white/10 text-slate-200 rounded-2xl shadow-2xl p-8 max-w-lg w-full relative transform transition-all duration-300 scale-95 opacity-0">
            <button id="close-payment-modal" class="absolute top-4 right-4 text-slate-400 hover:text-white transition-colors">
                <i data-feather="x" class="w-7 h-7"></i>
            </button>
            <div class="text-center mb-8">
                 <h2 class="text-3xl font-extrabold text-emerald-400">طرق دفع آمنة ومريحة</h2>
                 <p class="text-slate-300 mt-2">اختر الطريقة الأنسب لك لإتمام طلبك بكل سهولة.</p>
            </div>
            <div class="space-y-4 text-right">
                <div class="flex items-start gap-4 p-4 bg-white/5 rounded-xl border border-white/10">
                    <i data-feather="package" class="w-8 h-8 text-emerald-400 flex-shrink-0 mt-1"></i>
                    <div>
                        <h3 class="font-bold text-lg text-white">الدفع عند الاستلام</h3>
                        <p class="text-slate-300 text-sm">يمكن دفع القيمة كامله نقدا او دفع بقية المبلغ ، الجزء الثاني من المبلغ عند الإستلام.</p>
                    </div>
                </div>
                <div class="flex items-start gap-4 p-4 bg-white/5 rounded-xl border border-white/10">
                    <i data-feather="smartphone" class="w-8 h-8 text-red-500 flex-shrink-0 mt-1"></i>
                    <div>
                        <h3 class="font-bold text-lg text-white">محفظة فودافون كاش</h3>
                        <p class="text-slate-300 text-sm mb-2">يمكنك التحويل مباشرة إلى رقمنا. يرجى التأكد من أن الاسم هو <span class="font-semibold text-slate-100">Mostafa Mamon M** S*** Zaki</span>.</p>
                        <div class="flex justify-between items-center bg-slate-900/50 p-2 rounded-lg border border-white/10">
                            <span id="vodafone-number" class="text-slate-200 font-mono tracking-wider">01064009655</span>
                            <button onclick="copyToClipboard('vodafone-number')" class="copy-btn bg-slate-700 text-slate-200 text-xs font-bold px-3 py-1 rounded hover:bg-slate-600 transition-colors">نسخ</button>
                        </div>
                    </div>
                </div>
                <div class="flex items-start gap-4 p-4 bg-white/5 rounded-xl border border-white/10">
                     <i data-feather="zap" class="w-8 h-8 text-purple-400 flex-shrink-0 mt-1"></i>
                    <div>
                        <h3 class="font-bold text-lg text-white">تطبيق انستا باي (InstaPay)</h3>
                        <p class="text-slate-300 text-sm mb-2">حوّل بسهولة عبر انستا باي باستخدام رقم الهاتف. اسم المستلم: <span class="font-semibold text-slate-100">Mostafa Mamon M** S*** Zaki</span>.</p>
                         <div class="flex justify-between items-center bg-slate-900/50 p-2 rounded-lg border border-white/10">
                            <span id="instapay-number" class="text-slate-200 font-mono tracking-wider">01064009655</span>
                            <button onclick="copyToClipboard('instapay-number')" class="copy-btn bg-slate-700 text-slate-200 text-xs font-bold px-3 py-1 rounded hover:bg-slate-600 transition-colors">نسخ</button>
                        </div>
                    </div>
                </div>
                 <div class="flex items-start gap-4 p-4 bg-white/5 rounded-xl border border-white/10 opacity-60">
                    <i data-feather="credit-card" class="w-8 h-8 text-yellow-500 flex-shrink-0 mt-1"></i>
                    <div>
                        <h3 class="font-bold text-lg text-white">البطاقات الائتمانية</h3>
                        <p class="text-slate-300 text-sm">نعمل على إضافة خيار الدفع ببطاقات فيزا وماستركارد قريباً لنوفر لك المزيد من الخيارات.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Assistant FAB -->
    <button id="ai-fab" class="fixed bottom-6 right-6 bg-white/10 backdrop-blur-md text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center transform hover:scale-110 transition-transform duration-300 z-40">
        <i data-feather="message-square" class="w-8 h-8"></i>
    </button>

    <!-- AI Chat Modal -->
    <div id="ai-chat-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center sm:items-end sm:justify-end p-4 md:p-8 transition-opacity duration-300 opacity-0">
        <div id="ai-chat-container" class="bg-stone-800/50 backdrop-blur-xl text-white w-full max-w-md rounded-2xl shadow-2xl flex flex-col h-[80vh] sm:h-[70vh] transform transition-transform duration-300 translate-y-full">
            <!-- Header -->
            <div class="flex justify-between items-center p-4 border-b border-white/10 flex-shrink-0">
                <h3 class="font-bold text-lg">مساعد جدار الذكي</h3>
                <button id="close-ai-chat" class="text-slate-400 hover:text-white transition-colors">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>
            <!-- Messages -->
            <div id="chat-window" class="flex-1 p-4 overflow-y-auto space-y-4">
                <div class="chat-message bot">
                    <div class="message-content">
                        <p>أهلاً بك في جدار! كيف يمكنني مساعدتك في تصميم مساحتك اليوم؟</p>
                    </div>
                </div>
            </div>
            <!-- Input -->
            <div class="p-4 border-t border-white/10 flex-shrink-0">
                <form id="ai-chat-form" class="flex gap-2">
                    <input type="text" id="ai-chat-input" placeholder="اكتب سؤالك هنا..." class="flex-1 bg-white/10 rounded-full py-2 px-4 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500">
                    <button type="submit" class="bg-emerald-600 text-white rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center">
                        <i data-feather="send" class="w-5 h-5"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <script>
        feather.replace()

        // --- Page Navigation & Content Visibility ---
        const mainContent = document.getElementById('main-content');
        const categoryPagesContainer = document.getElementById('category-pages-container');
        const backButtons = document.querySelectorAll('.back-to-main-btn');

        function showCategoryPage(pageId) {
            mainContent.classList.add('hidden');
            categoryPagesContainer.classList.remove('hidden');
            
            document.querySelectorAll('.category-page').forEach(page => page.classList.add('hidden'));
            
            const targetPage = document.getElementById(`page-${pageId}`);
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }
            window.scrollTo(0, 0);
        }

        function showMainContent() {
            mainContent.classList.remove('hidden');
            categoryPagesContainer.classList.add('hidden');
        }
        
        backButtons.forEach(button => {
            button.addEventListener('click', e => {
                e.preventDefault();
                showMainContent();
            });
        });

        // --- Mobile Menu Logic ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            if (mobileMenu.style.maxHeight) {
                mobileMenu.style.maxHeight = null;
            } else {
                mobileMenu.style.maxHeight = mobileMenu.scrollHeight + "px";
            }
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, {
            threshold: 0.1 
        });

        const revealElements = document.querySelectorAll('.reveal');
        revealElements.forEach(el => observer.observe(el));

        const header = document.querySelector('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // --- Generic Modal Functions ---
        const openModal = (modal, content) => {
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                content.classList.remove('scale-95', 'opacity-0');
                content.classList.add('scale-100', 'opacity-100');
            }, 10);
        };

        const closeModal = (modal, content) => {
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            modal.classList.add('opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        };
        
        const searchForms = document.querySelectorAll('.search-form');

        searchForms.forEach(searchForm => {
            const searchInput = searchForm.querySelector('input');

            searchForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const query = searchInput.value.toLowerCase().trim();
                if (!query) return;

                const mainSections = {
                    'home': ['الرئيسية', 'لوحة', 'فنية', 'مساحتك'],
                    'categories': ['اقسام', 'تصفح'],
                    'why-us': ['لماذا', 'جدار', 'مميزات', 'جودة', 'حصرية', 'تركيب']
                };

                const categoryPages = {
                    'natural': ['طبيعية', 'طبيعي'],
                    'modern': ['مودرن', 'حديث'],
                    'geometric': ['هندسية', 'هندسي'],
                    'classic': ['كلاسيكية', 'كلاسيك'],
                    'kids': ['اطفال', 'غرف اطفال']
                };
                
                let targetFound = false;

                for (const pageId in categoryPages) {
                    if (categoryPages[pageId].some(keyword => query.includes(keyword))) {
                        showCategoryPage(pageId);
                        searchInput.value = '';
                        searchInput.blur();
                        targetFound = true;
                        break;
                    }
                }

                if (!targetFound) {
                    for (const sectionId in mainSections) {
                        if (mainSections[sectionId].some(keyword => query.includes(keyword))) {
                            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
                            searchInput.value = '';
                            searchInput.blur();
                            targetFound = true;
                            break;
                        }
                    }
                }

                if (!targetFound) {
                    searchInput.classList.add('animate-shake');
                    setTimeout(() => searchInput.classList.remove('animate-shake'), 600);
                }
            });
        });


        const categoryCards = document.querySelectorAll('.category-card');
        categoryCards.forEach(card => {
            card.addEventListener('click', e => {
                e.preventDefault();
                const pageId = card.dataset.page;
                showCategoryPage(pageId);
            });
        });

        const categoriesContainer = document.getElementById('categories-container');
        const scrollLeftBtn = document.getElementById('scroll-left-btn');
        const scrollRightBtn = document.getElementById('scroll-right-btn');

        if (categoriesContainer && scrollLeftBtn && scrollRightBtn) {
            const scrollAmount = 300; 

            scrollLeftBtn.addEventListener('click', () => {
                categoriesContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            });

            scrollRightBtn.addEventListener('click', () => {
                categoriesContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            });
        }

        // --- AI Chat Logic ---
        const aiFab = document.getElementById('ai-fab');
        const aiChatModal = document.getElementById('ai-chat-modal');
        const aiChatContainer = document.getElementById('ai-chat-container');
        const closeAiChatBtn = document.getElementById('close-ai-chat');
        const aiChatForm = document.getElementById('ai-chat-form');
        const aiChatInput = document.getElementById('ai-chat-input');
        const chatWindow = document.getElementById('chat-window');

        const openAiChat = () => {
            aiChatModal.classList.remove('hidden');
            setTimeout(() => {
                aiChatModal.classList.remove('opacity-0');
                aiChatContainer.classList.remove('translate-y-full');
            }, 10);
        };

        const closeAiChat = () => {
            aiChatContainer.classList.add('translate-y-full');
            aiChatModal.classList.add('opacity-0');
            setTimeout(() => {
                aiChatModal.classList.add('hidden');
            }, 300);
        };

        aiFab.addEventListener('click', openAiChat);
        closeAiChatBtn.addEventListener('click', closeAiChat);

        const addMessage = (text, sender) => {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            const p = document.createElement('p');
            p.textContent = text;
            contentDiv.appendChild(p);
            messageDiv.appendChild(contentDiv);
            chatWindow.appendChild(messageDiv);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        };

        const getBotResponse = (userInput) => {
            const query = userInput.toLowerCase();
            let botResponse = "شكرًا لسؤالك! أنا هنا لمساعدتك في العثور على أفضل التصاميم. هل تبحث عن شيء معين؟";

            if (query.includes("سعر") || query.includes("تكلفة")) {
                botResponse = "تعتمد أسعارنا على التصميم والمواد المستخدمة. يمكنك تصفح قسم معين لمعرفة المزيد أو التواصل معنا مباشرة!";
            } else if (query.includes("عنوان") || query.includes("مكان")) {
                botResponse = "فرعنا الرئيسي في: الفيوم - اخر سور المستشفي العام، امام مطعم ابو صلاح وبجوار المغسلة الأمريكية.";
            } else if (query.includes("طبيعي") || query.includes("مودرن") || query.includes("هندسي") || query.includes("كلاسيك") || query.includes("أطفال")) {
                 botResponse = `بالتأكيد! لدينا قسم خاص للتصاميم الـ ${query}. يمكنك استكشافه من خلال الصفحة الرئيسية.`;
            }

            setTimeout(() => {
                addMessage(botResponse, 'bot');
            }, 1000);
        };

        aiChatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userMessage = aiChatInput.value.trim();
            if (!userMessage) return;
            addMessage(userMessage, 'user');
            aiChatInput.value = '';
            getBotResponse(userMessage);
        });

        // --- Payment Modal Logic ---
        const paymentModal = document.getElementById('payment-modal');
        const paymentModalContent = document.getElementById('payment-modal-content');
        const openPaymentBtns = document.querySelectorAll('.open-payment-modal-btn');
        const closePaymentBtn = document.getElementById('close-payment-modal');
        
        openPaymentBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal(paymentModal, paymentModalContent);
            });
        });
        closePaymentBtn.addEventListener('click', () => closeModal(paymentModal, paymentModalContent));
        paymentModal.addEventListener('click', (e) => {
            if (e.target === paymentModal) closeModal(paymentModal, paymentModalContent);
        });

        // --- Product Modal Logic ---
        const productModal = document.getElementById('product-modal');
        const productModalContent = document.getElementById('product-modal-content');
        const closeProductModalBtn = document.getElementById('close-product-modal');
        const detailButtons = document.querySelectorAll('.details-btn');

        const modalImg = document.getElementById('modal-img');
        const modalTitle = document.getElementById('modal-title');
        const modalPrice = document.getElementById('modal-price');
        const modalDesc = document.getElementById('modal-desc');

        detailButtons.forEach(button => {
            button.addEventListener('click', () => {
                const card = button.closest('.product-card');
                
                modalImg.src = card.dataset.img;
                modalTitle.textContent = card.dataset.title;
                modalPrice.innerHTML = `${card.dataset.price} <span class="text-sm font-semibold text-slate-300">جم</span>`;
                modalDesc.textContent = card.dataset.desc;

                openModal(productModal, productModalContent);
            });
        });

        closeProductModalBtn.addEventListener('click', () => closeModal(productModal, productModalContent));
        productModal.addEventListener('click', (e) => {
            if (e.target === productModal) closeModal(productModal, productModalContent);
        });

        // --- Portfolio Project Modal Logic ---
        const projectModal = document.getElementById('project-modal');
        const projectModalContent = document.getElementById('project-modal-content');
        const closeProjectModalBtn = document.getElementById('close-project-modal');
        const portfolioItems = document.querySelectorAll('.portfolio-item');

        const projectModalTitle = document.getElementById('project-modal-title');
        const projectModalDesc = document.getElementById('project-modal-desc');
        const projectMainMedia = document.getElementById('project-main-media');
        const projectThumbnails = document.getElementById('project-thumbnails');

        const loadMedia = (src, type, thumbnailElement) => {
            projectMainMedia.innerHTML = ''; // Clear previous media
            if (type === 'image') {
                const img = document.createElement('img');
                img.src = src;
                img.className = 'w-full h-full object-contain';
                projectMainMedia.appendChild(img);
            } else if (type === 'video') {
                const video = document.createElement('video');
                video.src = src;
                video.className = 'w-full h-full object-contain';
                video.autoplay = true;
                video.muted = true;
                video.loop = true;
                video.controls = true;
                projectMainMedia.appendChild(video);
            }
            // Update active thumbnail
            document.querySelectorAll('.project-thumbnail.active').forEach(th => th.classList.remove('active'));
            if(thumbnailElement) thumbnailElement.classList.add('active');
        };

        portfolioItems.forEach(item => {
            item.addEventListener('click', () => {
                const title = item.dataset.title;
                const desc = item.dataset.desc;
                const media = JSON.parse(item.dataset.media);

                projectModalTitle.textContent = title;
                projectModalDesc.textContent = desc;
                projectThumbnails.innerHTML = ''; // Clear old thumbnails

                if (media && media.length > 0) {
                    media.forEach((mediaItem, index) => {
                        const thumb = document.createElement('img');
                        thumb.src = mediaItem.type === 'image' ? mediaItem.src : 'https://placehold.co/100x100/111827/FFFFFF?text=Video'; // Placeholder for video thumb
                        thumb.className = 'w-full h-16 object-cover rounded-md project-thumbnail';
                        
                        thumb.addEventListener('click', () => loadMedia(mediaItem.src, mediaItem.type, thumb));
                        
                        projectThumbnails.appendChild(thumb);
                        
                        if (index === 0) {
                            loadMedia(mediaItem.src, mediaItem.type, thumb);
                        }
                    });
                }
                
                openModal(projectModal, projectModalContent);
            });
        });

        closeProjectModalBtn.addEventListener('click', () => closeModal(projectModal, projectModalContent));
        projectModal.addEventListener('click', (e) => {
            // Stop video when closing modal
            const videoEl = projectMainMedia.querySelector('video');
            if (videoEl) videoEl.pause();
            
            if (e.target === projectModal) closeModal(projectModal, projectModalContent);
        });

        // --- Product Sorting Logic ---
        const sortProductButtons = document.querySelectorAll('.sort-btn');

        sortProductButtons.forEach(button => {
            button.addEventListener('click', () => {
                const sortBy = button.dataset.sort;
                const buttonGroup = button.parentElement;
                const productGrid = buttonGroup.nextElementSibling;
                const products = Array.from(productGrid.querySelectorAll('.product-card'));

                // Update active button
                buttonGroup.querySelector('.active').classList.remove('active');
                button.classList.add('active');

                let sortedProducts = [];

                if(sortBy === 'default') {
                    // We need the original order, might need to store it if it's not DOM order
                    // For now, let's just use the original array.
                    sortedProducts = products;
                } else if (sortBy === 'bestseller') {
                    sortedProducts = products.sort((a, b) => {
                        const aBest = a.dataset.bestseller === 'true';
                        const bBest = b.dataset.bestseller === 'true';
                        return bBest - aBest;
                    });
                } else if (sortBy === 'price-desc') {
                    sortedProducts = products.sort((a, b) => {
                        return parseFloat(b.dataset.price) - parseFloat(a.dataset.price);
                    });
                } else if (sortBy === 'price-asc') {
                     sortedProducts = products.sort((a, b) => {
                        return parseFloat(a.dataset.price) - parseFloat(b.dataset.price);
                    });
                }
                
                // Re-append sorted products to the grid
                productGrid.innerHTML = '';
                sortedProducts.forEach(product => productGrid.appendChild(product));
            });
        });

        // --- Portfolio Scroller Logic ---
        const portfolioContainer = document.getElementById('portfolio-container');
        const portfolioScrollLeftBtn = document.getElementById('portfolio-scroll-left-btn');
        const portfolioScrollRightBtn = document.getElementById('portfolio-scroll-right-btn');

        if (portfolioContainer && portfolioScrollLeftBtn && portfolioScrollRightBtn) {
            const scrollAmount = portfolioContainer.offsetWidth * 0.8; 

            portfolioScrollLeftBtn.addEventListener('click', () => {
                portfolioContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            });

            portfolioScrollRightBtn.addEventListener('click', () => {
                portfolioContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            });
        }

        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const textToCopy = element.innerText;
            
            const textArea = document.createElement('textarea');
            textArea.value = textToCopy;
            document.body.appendChild(textArea);
            
            textArea.select();
            document.execCommand('copy');
            
            document.body.removeChild(textArea);

            const allCopyButtons = document.querySelectorAll('.copy-btn');
            allCopyButtons.forEach(btn => btn.innerText = 'نسخ'); 

            const clickedButton = element.nextElementSibling;
            if(clickedButton && clickedButton.classList.contains('copy-btn')) {
                clickedButton.innerText = 'تم النسخ!';
                setTimeout(() => {
                    clickedButton.innerText = 'نسخ';
                }, 2000);
            }
        }

        // --- Global Keydown Listener ---
        document.addEventListener('keydown', (e) => { 
            if (e.key === 'Escape') {
                if (paymentModal && !paymentModal.classList.contains('hidden')) {
                     closeModal(paymentModal, paymentModalContent);
                }
                if (productModal && !productModal.classList.contains('hidden')) {
                     closeModal(productModal, productModalContent);
                }
                if (projectModal && !projectModal.classList.contains('hidden')) {
                    const videoEl = projectMainMedia.querySelector('video');
                    if (videoEl) videoEl.pause();
                    closeModal(projectModal, projectModalContent);
                }
                if (aiChatModal && !aiChatModal.classList.contains('hidden')) {
                    closeAiChat();
                }
            }
        });

    </script>
</body>
</html>



